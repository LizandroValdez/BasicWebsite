"use strict";window.basicContext={_overflow:null,_dom:function(){var t=void 0===arguments[0]?"":arguments[0];return document.querySelector(".basicContext "+t)},_valid:function(){var t=void 0===arguments[0]?{}:arguments[0];return null==t["class"]&&(t["class"]=""),null==t.type&&(t.type="item"),null==t.icon&&(t.icon=null),null==t.title&&(t.title="Undefined"),null==t.fn&&"separator"!==t.type?(console.warn("Missing fn for item '"+t.title+"'"),!1):!0},_build:function(t){var n,e=0,o="";n=function(t){var n="",o="";return basicContext._valid(t)===!1?"":(t.num=e++,null!==t.icon&&(o="<span class='"+t.icon+"'></span>"),"item"===t.type?n="\n						<tr class='"+t["class"]+"'>\n							<td data-num='"+t.num+"'>"+o+t.title+"</td>\n						</tr>\n						":"separator"===t.type&&(n="\n						<tr class='separator'></tr>\n						"),n)},o+="\n					<div class='basicContextContainer'>\n						<div class='basicContext'>\n							<table>\n								<tbody>\n					";for(var i=0;i<t.length;++i)o+=n(t[i]);return o+="\n								</tbody>\n							</table>\n						</div>\n					</div>\n					"},_normalizeEvent:function(t){if(null!=t&&"touchend"===t.type&&(null==t.pageX||null==t.pageY)){var n=t.changedTouches;n.length>0&&(t.pageX=n[0].pageX,t.pageY=n[0].pageY)}return t},_getPosition:function(t){t=basicContext._normalizeEvent(t);var n={scrollTop:document.body.scrollTop,width:window.innerWidth,height:window.innerHeight},e=t.pageX,o=t.pageY-n.scrollTop;(null==e||0>e)&&(e=0),(null==o||0>o)&&(o=0);var i={width:basicContext._dom().offsetWidth,height:basicContext._dom().offsetHeight};return e>n.width&&(e=n.width),o>n.height&&(o=n.height),e+i.width>n.width&&(e-=e+i.width-n.width),o+i.height>n.height&&(o-=o+i.height-n.height),i.height>n.height&&(o=0,basicContext._dom().classList.add("basicContext--scrollable")),{x:e,y:o}},_bind:function(t){null!=t.fn&&(basicContext._dom("td[data-num='"+t.num+"']").onclick=t.fn)},show:function(t,n,e,o){var i=basicContext._build(t);document.body.insertAdjacentHTML("beforeend",i),null==basicContext._overflow&&(basicContext._overflow=document.body.style.overflow,document.body.style.overflow="hidden");var l=basicContext._getPosition(n);basicContext._dom().style.left=""+l.x+"px",basicContext._dom().style.top=""+l.y+"px",basicContext._dom().style.opacity=1,null==e&&(e=basicContext.close),basicContext._dom().parentElement.onclick=e;for(var a=0;a<t.length;++a)basicContext._bind(t[a]);return null!=o&&o(),n.preventDefault(),!0},visible:function(){return 0===basicContext._dom().length?!1:!0},close:function(){return basicContext._dom().parentElement.remove(),null!=basicContext._overflow&&(document.body.style.overflow=basicContext._overflow,basicContext._overflow=null),!0}};